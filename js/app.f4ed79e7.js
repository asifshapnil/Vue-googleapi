(function(){"use strict";var t={443:function(t,e,n){var o=n(9242),i=n(3396);const r={class:"h-100vh flex mt-10"};function s(t,e){const n=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(n)])}var c=n(89);const a={},l=(0,c.Z)(a,[["render",s]]);var u=l,d=n(65);const p=Symbol(),h=(0,d.MT)({state:{places:[]},mutations:{mutatePlaces(t,e){t.places=e}},actions:{storePlaces({commit:t,state:e},n){t("mutatePlaces",n)}}});var f=n(2483);const m={class:"home flex justify-center items-center h-100vh w-100"};function v(t,e,n,o,r,s){const c=(0,i.up)("SearchForm");return(0,i.wg)(),(0,i.iD)("div",m,[(0,i.Wm)(c)])}var g=n(7139);const w={class:"flex flex-col search-box justify-start items-start"},y=(0,i._)("h3",null,[(0,i._)("b",null,"Search your prefered area based on a criteria")],-1),b={class:"form w-100 mt-3"},k={class:"formGroup"},x=(0,i._)("label",null,"Topic *",-1),_={key:0,class:"mt-3 error-text"},S={class:"formGroup mt-10"},E=(0,i._)("label",null," Location *",-1),D={type:"text","v:model":"location",ref:"location"},j={key:0,class:"mt-3 error-text"},L={class:"formGroup mt-10"},O=(0,i._)("label",null,"Distance *",-1),q={key:0,class:"mt-3 error-text"},P={class:"mt-10"};function Z(t,e,n,r,s,c){return(0,i.wg)(),(0,i.iD)("div",w,[y,(0,i._)("div",b,[(0,i._)("div",k,[x,(0,i.wy)((0,i._)("input",{id:"topic",type:"text",placeholder:"Enter a topic","onUpdate:modelValue":e[0]||(e[0]=e=>t.topic=e)},null,512),[[o.nr,t.topic]]),t.topicErr?((0,i.wg)(),(0,i.iD)("div",_,(0,g.zw)(t.topicErr),1)):(0,i.kq)("",!0)]),(0,i._)("div",S,[E,(0,i._)("input",D,null,512),t.locationErr?((0,i.wg)(),(0,i.iD)("div",j,(0,g.zw)(t.locationErr),1)):(0,i.kq)("",!0)]),(0,i._)("div",L,[O,(0,i.wy)((0,i._)("input",{id:"distance",type:"number",placeholder:"Enter a distance","onUpdate:modelValue":e[1]||(e[1]=e=>t.distance=e)},null,512),[[o.nr,t.distance,void 0,{number:!0}]]),t.distanceErr?((0,i.wg)(),(0,i.iD)("div",q,(0,g.zw)(t.distanceErr),1)):(0,i.kq)("",!0)]),(0,i._)("div",P,[(0,i._)("button",{class:"btn",onClick:e[2]||(e[2]=(...e)=>t.search&&t.search(...e))},"Search")])])])}n(7658);var G=(0,i.aZ)({name:"SearchForm",data(){return{topic:null,topicErr:null,location:null,locationErr:null,locationadded:null,distance:null,distanceErr:null,lat:null,lng:null,autocompleteService:null,placesService:null}},mounted(){window.checkAndAttachMapScript(this.initGoogleMaps),console.log(this.$refs.test)},methods:{initGoogleMaps(){this.initLocationSearch(),this.autocompleteService=new window.google.maps.places.AutocompleteService,this.placesService=new window.google.maps.places.PlacesService(document.createElement("div")),console.log(this.placesService)},searchLocation(t){return new Promise((e=>{t.addListener("place_changed",(function(){let n=t.getPlace();if(n&&n.address_components)return console.log(n.geometry.location.lat()),e({lat:n.geometry.location.lat(),lng:n.geometry.location.lng()})}))}))},async initLocationSearch(){let t=new window.google.maps.places.Autocomplete(this.$refs.location);const e=await this.searchLocation(t);this.locationadded=!0,this.lat=e.lat,this.lng=e.lng},search(){let t=!1;if(this.locationadded||(t=!0,this.locationErr="Location is required **"),this.topic||(t=!0,this.topicErr="Topic is required **"),this.distance||(t=!0,this.distanceErr="Distance is required **"),t)return;var e=new window.google.maps.LatLng(this.lat,this.lng);const n={query:this.topic,location:e,radius:this.distance};this.placesService.textSearch(n,((t,e)=>{e===window.google.maps.places.PlacesServiceStatus.OK?(this.$store.dispatch("storePlaces",t),setTimeout((()=>{this.$router.push("results")}),500)):this.$store.dispatch("storePlaces",[])}))}},watch:{locationadded(t){this.locationErr=t?null:"Location is required"},topic(t){this.topicErr=t?null:"Tpoic is required"},distance(t){t?this.distanceErr=null:this.locationErr="Distance is required"}}});const T=(0,c.Z)(G,[["render",Z]]);var $=T,V=(0,i.aZ)({name:"HomeView",components:{SearchForm:$}});const C=(0,c.Z)(V,[["render",v]]);var M=C;const R={class:"home flex justify-center items-center h-100 w-100"};function z(t,e,n,o,r,s){const c=(0,i.up)("ResultList");return(0,i.wg)(),(0,i.iD)("div",R,[(0,i.Wm)(c)])}var A=n.p+"img/no-record1.cf3f2300.png";const F={class:"flex flex-col justify-end"},W={class:"result-box p-10"},B={key:0,class:"w-100 h-100 flex flex-col justify-start items-start"},H=(0,i._)("h3",{class:"flex flex-col items-start m-0"},[(0,i._)("b",null,"Search results")],-1),K={key:0,class:"flex flex-col justify-start items-start mt-10"},U={key:1,class:"flex flex-col items-center justify-center h-100"},Y=(0,i._)("img",{src:A,alt:"",width:"200"},null,-1),I=(0,i._)("h4",null,[(0,i._)("b",null,"Result not found!")],-1),J={key:0,class:"w-100 flex justify-end"};function N(t,e,n,o,r,s){return(0,i.wg)(),(0,i.iD)("div",F,[(0,i._)("div",W,[t.places.length?((0,i.wg)(),(0,i.iD)("div",B,[H,t.places.length?((0,i.wg)(),(0,i.iD)("div",K,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.places,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t.place_id,class:"mt-3 flex- jistify-start intems-start"},[(0,i._)("li",null,(0,g.zw)(t.name),1)])))),128))])):(0,i.kq)("",!0)])):((0,i.wg)(),(0,i.iD)("div",U,[Y,I,(0,i._)("button",{class:"mt-10 btn",onClick:e[0]||(e[0]=(...e)=>t.back&&t.back(...e))},"Go Back")]))]),t.places.length?((0,i.wg)(),(0,i.iD)("div",J,[(0,i._)("button",{class:"mt-10 btn",onClick:e[1]||(e[1]=(...e)=>t.back&&t.back(...e))},"Go Back")])):(0,i.kq)("",!0)])}var Q=(0,i.aZ)({name:"ResultList",data(){return{places:this.$store.state.places}},methods:{back(){this.$router.back()}}});const X=(0,c.Z)(Q,[["render",N]]);var tt=X,et=(0,i.aZ)({name:"ResultView",components:{ResultList:tt}});const nt=(0,c.Z)(et,[["render",z]]);var ot=nt;const it=[{path:"/",name:"home",component:M},{path:"/results",name:"results",component:ot}],rt=(0,f.p7)({history:(0,f.PO)("/Vue-googleapi/"),routes:it});var st=rt;(0,o.ri)(u).use(st).use(h,p).mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,o,i,r){if(!o){var s=1/0;for(u=0;u<t.length;u++){o=t[u][0],i=t[u][1],r=t[u][2];for(var c=!0,a=0;a<o.length;a++)(!1&r||s>=r)&&Object.keys(n.O).every((function(t){return n.O[t](o[a])}))?o.splice(a--,1):(c=!1,r<s&&(s=r));if(c){t.splice(u--,1);var l=i();void 0!==l&&(e=l)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[o,i,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.p="/Vue-googleapi/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,r,s=o[0],c=o[1],a=o[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(i in c)n.o(c,i)&&(n.m[i]=c[i]);if(a)var u=a(n)}for(e&&e(o);l<s.length;l++)r=s[l],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},o=self["webpackChunkgoogleplaces"]=self["webpackChunkgoogleplaces"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(443)}));o=n.O(o)})();
//# sourceMappingURL=app.f4ed79e7.js.map